<div class="spinner-view" *ngIf="loading">
  <div class="spinner"></div>
</div>

<div class="report" *ngIf="!loading">
  <div class="report-section">
    <table>
      <tr *ngFor="let test of report.tests | toArray">
        <td class="cell name">{{test.name}}</td>
        <td class="cell">{{test.unit}}</td>
        <td class="cell values">
          <div class="bar-container">
            <div class="bar background"></div>
            <div class="bar min-value flex-row justify-content-center align-items-stretch" [style.left]="getValuePosition(test.minValue, test) + '%'">
              <div class="value-number">{{test.minValue | number:'1.2-2'}}</div>
            </div>

            <div class="bar max-value flex-row justify-content-center align-items-stretch" [style.left]="getValuePosition(test.maxValue, test) + '%'">
              <div class="value-number">{{test.maxValue | number:'1.2-2'}}</div>
            </div>

            <div
              class="bar value flex-row justify-content-center align-items-stretch"
              [class.low-value]="test.value < test.minValue"
              [class.high-value]="test.value > test.maxValue"
              [style.left]="getValuePosition(test.value, test) + '%'"
            >
              <div class="value-number">{{test.value | number:'1.2-2'}}</div>
            </div>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
