<div class="spinner-view" *ngIf="loading">
  <div class="spinner"></div>
</div>

<div class="report" *ngIf="!loading">
  <div class="report-section">
    <table>
      <tr *ngFor="let test of report.tests | toArray">
        <td class="cell name">{{test.name}}</td>
        <td class="cell">{{test.unit}}</td>
        <td class="cell values">
          <div class="bar-container">
            <!-- TODO: Show numeric values -->
            <div class="bar background"></div>
            <div class="bar min-value" [style.left]="maxLowPercent + '%'">
              <!-- {{test.minValue | number:'1.2-2'}} -->
            </div>

            <div class="bar max-value" [style.left]="(100 - maxHighPercent) + '%'">
              <!-- {{test.maxValue | number:'1.2-2'}} -->
            </div>

            <div
              class="bar value"
              [class.low-value]="test.value < test.minValue"
              [class.high-value]="test.value > test.maxValue"
              [style.left]="getValuePercent(test) + '%'"
            >
              <!-- {{test.value | number:'1.2-2'}} -->
            </div>
          </div>
        </td>
      </tr>
    </table>
  </div>
</div>
